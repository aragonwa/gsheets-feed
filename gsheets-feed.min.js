!function(t){"use strict";t.fn.GSFeed=function(e){function a(e){d.addClass("news-feed"),d.addClass("dated-news-feed");var a='<h2><span class="fa-stack"><i class="fa fa-square fa-stack-2x"></i><i class="fa '+n.titleIcon+' fa-stack-1x fa-inverse"></i> </span> '+n.title+"</h2>",s=[];n.tag?t.each(e.feed.entry,function(t,e){if(s.length>n.numItems-1)return!1;if(e.gsx$tags.$t===n.tag){var a={};a={date:e["gsx$"+n.cols.date].$t,title:e["gsx$"+n.cols.title].$t,link:e["gsx$"+n.cols.link].$t,text:e["gsx$"+n.cols.text].$t},s.push(a)}}):t.each(e.feed.entry,function(t,e){if(t+1>n.numItems)return!1;var a={};a={date:e["gsx$"+n.cols.date].$t,title:e["gsx$"+n.cols.title].$t,link:e["gsx$"+n.cols.link].$t,text:e["gsx$"+n.cols.text].$t},s.push(a)}),s.sort(function(t,e){return new Date(t.date)<new Date(e.date)?1:new Date(t.date)>new Date(e.date)?-1:0}),t.each(s,function(t,e){var s=e.date,d=e.title,o=e.link,r=e.text,c=s.split("/"),f=i(c[0]),u=c[1];a+='<div class="media"><div class="media-left">',a+='<div class="date-day">'+u+"</div>",a+='<div class="date-month">'+f+"</div>",a+="</div>";var p="Summary: "+r;a+='<div class="media-body">',a+='<a href="'+o+'" id="popover'+t+'" rel="popover" data-animation="true" data-html="true" data-placement="right" data-trigger="hover" data-delay="0" data-content="'+p+'" title="'+d+'">'+d+"</a>",n.showSummary&&(a+="<p>"+r+"</p>"),a+="</div></div>",l.push("#popover"+t)}),d.html(a),t(l).each(function(){t(l).popover()})}function s(){d.addClass("news-feed"),d.addClass("dated-news-feed");var t='<h2><span class="fa fa-exclamation-triangle fa-color-danger"></i> </span> Oops...</h2>';t+='<div class="media-body">',t+="<p>Sorry, this list is temporarily unavailable.</p>",t+='<p>Please go <a href="http://www.kingcounty.gov/about/news.aspx">here</a> to see all King County news.</a>',t+="</div>",d.html(t)}function i(t){var e=[];e[1]="JAN",e[2]="FEB",e[3]="MAR",e[4]="APR",e[5]="MAY",e[6]="JUN",e[7]="JUL",e[8]="AUG",e[9]="SEP",e[10]="OCT",e[11]="NOV",e[12]="DEC";var a=e[t];return a}var n=t.extend({feedURL:"//spreadsheets.google.com/feeds/list/16EvF7h015u3vg0O9PyUWFIk30aYr7GIrFISUS7O75mk/1/public/values?alt=json-in-script",cols:{title:"headline",link:"link",text:"description",date:"date"},numItems:4,title:"News",titleIcon:"fa-file-text-o",tag:"",showSummary:!0},e),d=this,l=[];return this.each(function(){d.append('<i class="fa fa-spinner fa-spin fa-4x"></i>');var e=n.feedURL;t.ajax({url:e,dataType:"jsonp",timeout:5e3}).success(function(t){a(t)}).error(function(){s()})})}}(jQuery);